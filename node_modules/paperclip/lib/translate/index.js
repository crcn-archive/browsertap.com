// Generated by CoffeeScript 1.7.0
(function() {
  var parse, scripts, templateParser;

  templateParser = require("./template/parser");

  exports.parse = parse = function(content, options) {
    if (options == null) {
      options = {};
    }
    content = templateParser.parse(content);
    return String(content);
  };

  scripts = {};

  exports.compile = function(nameOrContent) {
    var content, e, module;
    module = {
      exports: {}
    };
    if (scripts[nameOrContent]) {
      return scripts[nameOrContent];
    }
    try {
      if (typeof $ !== "undefined") {
        content = $("script[data-template-name='" + nameOrContent + "']").html();
      }
    } catch (_error) {
      e = _error;
    }
    if (!content) {
      content = nameOrContent;
    }
    eval(parse(content));
    return scripts[nameOrContent] = module.exports;
  };

  if (typeof (typeof window !== "undefined" && window !== null ? window.paperclip : void 0) !== "undefined") {
    window.paperclip.compile = exports.compile;
    window.paperclip.script = exports.script;
    window.paperclip.template.compiler = exports;
  }

}).call(this);
